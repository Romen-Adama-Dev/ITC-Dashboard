<!-- src/app/presentation/components/chart-selection-modal/chart-selection-modal.component.html -->
<div
  id="customModal"
  class="modal"
  [class.show]="isVisible"
  role="dialog"
  aria-modal="true"
  aria-labelledby="chart-selection-title"
>
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="chart-selection-title">
        {{ 'CHART_SELECTION_MODAL.TITLE' | translate }}
      </h2>
    </div>
    <div class="modal-body">
      <div class="modal-row">
        <div class="chart-type-column">
          <p>{{ 'CHART_SELECTION_MODAL.SELECT_CHART_CATEGORY' | translate }}</p>
          <div class="icon-list">
            <button
              type="button"
              class="icon-button"
              (click)="selectChartCategory('line-chart')"
              [class.selected]="selectedChartCategory === 'line-chart'"
            >
              <i class="ri-line-chart-line" aria-hidden="true"></i>
              <span>{{ 'CHART_SELECTION_MODAL.LINE_CHART' | translate }}</span>
            </button>
            <button
              type="button"
              class="icon-button"
              (click)="selectChartCategory('bar-chart')"
              [class.selected]="selectedChartCategory === 'bar-chart'"
            >
              <i class="ri-bar-chart-horizontal-line" aria-hidden="true"></i>
              <span>{{ 'CHART_SELECTION_MODAL.BAR_CHART' | translate }}</span>
            </button>
            <button
              type="button"
              class="icon-button"
              (click)="selectChartCategory('pie-chart')"
              [class.selected]="selectedChartCategory === 'pie-chart'"
            >
              <i class="ri-pie-chart-line" aria-hidden="true"></i>
              <span>{{ 'CHART_SELECTION_MODAL.PIE_CHART' | translate }}</span>
            </button>
            <button
              type="button"
              class="icon-button"
              (click)="selectChartCategory('gauge-chart')"
              [class.selected]="selectedChartCategory === 'gauge-chart'"
            >
              <i class="ri-flashlight-line" aria-hidden="true"></i>
              <span>{{ 'CHART_SELECTION_MODAL.GAUGE_CHART' | translate }}</span>
            </button>
            <button
              type="button"
              class="icon-button"
              (click)="selectChartCategory('other')"
              [class.selected]="selectedChartCategory === 'other'"
            >
              <i class="ri-settings-3-line" aria-hidden="true"></i>
              <span>{{ 'CHART_SELECTION_MODAL.OTHER_CATEGORIES' | translate }}</span>
            </button>
          </div>
        </div>
        <div class="data-source-column">
          <label for="variantSelect">{{ 'CHART_SELECTION_MODAL.SELECT_VARIANT' | translate }}</label>
          <app-chart-selector-vanilla
            id="variantSelect"
            [selectedChartCategory]="selectedChartCategory"
            [(selectedChartVariant)]="selectedChartVariant"
          ></app-chart-selector-vanilla>

          <label for="dataSource" class="mt-3">{{ 'EDIT_WIDGET_MODAL.SELECT_DATA_SOURCE' | translate }}</label>
          <div class="select-wrapper">
            <select id="dataSource" [(ngModel)]="selectedDataSource">
              <option *ngFor="let ds of dataSources" [value]="ds">
                {{ ds.split('/').pop() }}
              </option>
            </select>
          </div>

          <label for="dataCount" class="mt-2">{{ 'EDIT_WIDGET_MODAL.ENTER_DATA_COUNT' | translate }}</label>
          <input
            id="dataCount"
            type="number"
            [(ngModel)]="selectedDataCount"
            min="1"
            [placeholder]="'EDIT_WIDGET_MODAL.DATA_COUNT_PLACEHOLDER' | translate"
          />
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <app-default-button
        nzType="default"
        (click)="handleClose()"
        (keydown.enter)="handleClose()"
        tabindex="0"
      >
        {{ 'EDIT_WIDGET_MODAL.BUTTON_CANCEL' | translate }}
      </app-default-button>
      <app-primary-button
        nzType="primary"
        (click)="handleAdd()"
        (keydown.enter)="handleAdd()"
        tabindex="0"
      >
        {{ 'EDIT_WIDGET_MODAL.BUTTON_SAVE' | translate }}
      </app-primary-button>
    </div>
  </div>
</div>